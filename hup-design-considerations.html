<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Hup, design considerations - botbreeder.github.io</title><meta name="description" content="Right now, nothing has been said about: Multiple tables having the same name can be seen as a problem (which would lead to a namespace-based solution) or as a feature. I prefer to make it a feature. A table name represents a stack of values,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://botbreeder.github.io/hup-design-considerations.html"><link rel="alternate" type="application/atom+xml" href="https://botbreeder.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://botbreeder.github.io/feed.json"><meta property="og:title" content="Hup, design considerations"><meta property="og:site_name" content="botbreeder.github.io"><meta property="og:description" content="Right now, nothing has been said about: Multiple tables having the same name can be seen as a problem (which would lead to a namespace-based solution) or as a feature. I prefer to make it a feature. A table name represents a stack of values,&hellip;"><meta property="og:url" content="https://botbreeder.github.io/hup-design-considerations.html"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://botbreeder.github.io/assets/css/style.css?v=a57748bae4efc673cbad870f97f9d398"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://botbreeder.github.io/hup-design-considerations.html"},"headline":"Hup, design considerations","datePublished":"2024-03-19T14:34","dateModified":"2024-03-21T15:16","description":"Right now, nothing has been said about: Multiple tables having the same name can be seen as a problem (which would lead to a namespace-based solution) or as a feature. I prefer to make it a feature. A table name represents a stack of values,&hellip;","author":{"@type":"Person","name":"Julien Laguerre","url":"https://botbreeder.github.io/authors/julien-laguerre/"},"publisher":{"@type":"Organization","name":"Julien Laguerre"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://botbreeder.github.io/">botbreeder.github.io</a></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://botbreeder.github.io/media/website/grid3.jpg" srcset="https://botbreeder.github.io/media/website/responsive/grid3-xs.jpg 300w, https://botbreeder.github.io/media/website/responsive/grid3-sm.jpg 480w, https://botbreeder.github.io/media/website/responsive/grid3-md.jpg 768w, https://botbreeder.github.io/media/website/responsive/grid3-lg.jpg 1024w, https://botbreeder.github.io/media/website/responsive/grid3-xl.jpg 1360w, https://botbreeder.github.io/media/website/responsive/grid3-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" alt="blue matrix"></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2024-03-19T14:34">03/19/2024</time></div><h1>Hup, design considerations</h1><div class="post__meta post__meta--author"><a href="https://botbreeder.github.io/authors/julien-laguerre/" class="feed__author invert">Julien Laguerre</a></div></div></header></div><div class="wrapper post__entry"><p>Right now, nothing has been said about:</p><ul style="list-style-type: square;"><li>What to do when multiple tables have the same name,</li><li>Error handling,</li><li>User-defined functions or operators,</li><li>Implementation details.</li></ul><hr><p>Multiple tables having the same name can be seen as a problem (which would lead to a namespace-based solution) or as a feature. I prefer to make it a feature<span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">. A table name represents a stack of values, potentially calculated by several formulas (if several tables have the same name). When a formula is recalculated, the old values are deleted from the stack and the new values are pushed onto it. So the user can always expect a table name to represent values in chronological order of update.</span></p><p>Since tables can generate and host other tables, table names can be qualified by path, using a filesystem metaphor. For example, <code>parent/table</code> would mean the table named <code>table</code> that's inside the table named <code>parent</code>.</p><hr><p>I don't want to make error handling a cause of flow disruption. Instead, the system should be able to continue to work as best as it can, while isolating errors to prevent propagation, and having them be part of the current situation by logging them in dedicated error tables.</p><p>As a rule of thumb, when the evaluation of a formula produces an error, the result of that formula is merely an empty list. The built-in <code>ERR</code> table receives a formatted entry about the error. Errors can then be manually handled by the user.</p><hr><p>User-defined functions are defined in tables. The name of the table is the signature of the function, and the unique value of the table is the body of the function.</p><p>User-defined functions always begin with a period "<code>.</code>" character, and are followed by parentheses which receive the arguments, each preceded by a "<code>#</code>" character. The function name's first character is a lowercase letter.</p><pre>[ .sqr() | # * # ]<br><br>[<br>    squared units<br>    = [units] .sqr()<br>    | 1<br>    | 4<br>    | 9<br>]<br><br>[ .pow(#power) | (#) &amp; #power \* ]<br><br>[<br>    units to the third<br>    = [units] .pow(3)<br>    | 1<br>    | 8<br>    | 27<br>]</pre><p>Remember that evaluation goes from left to right, everything being left-associative. In the body of a user-defined function, a single "<code>#</code>" character represents the values-so-far. If the function was an infix operator, we could say that "<code>#</code>" represents its left-hand side operand.</p><p>You might be wondering why the "<code>#</code>" in the <code>pow()</code> function's body is between parentheses. That's because we want want to obtain <code>(1 2 3) * (1 2 3) * (1 2 3)</code> rather than <code>1 * 1 * 1 * 2 * 2 * 2 * 3 * 3 * 3</code>.</p><hr><p>I'm not yet sure of how all of this will be implemented. But the target language is Go (with Wails for the frontend), and goroutines are probably going to be used extensively.</p><p>Oh snap, I know how it will be implemented. By typing on a keyboard with my hands which are fortunately full of fingers.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 03/21/2024</p><div class="post__share"></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://botbreeder.github.io/authors/julien-laguerre/" class="invert" rel="author">Julien Laguerre</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://botbreeder.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://botbreeder.github.io/hup-working-with-terms.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Hup, other than numbers</a></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2024-03-15T13:00" class="feed__date">03/15/2024</time></div><h3 class="h1"><a href="https://botbreeder.github.io/hup-working-with-terms.html" class="invert">Hup, other than numbers</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2024-03-14T10:04" class="feed__date">03/14/2024</time></div><h3 class="h1"><a href="https://botbreeder.github.io/hup-operators.html" class="invert">Hup, a few operators</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2024-03-11T00:51" class="feed__date">03/11/2024</time></div><h3 class="h1"><a href="https://botbreeder.github.io/hup.html" class="invert">Hup, a scripting language</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>Powered by Publii</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://botbreeder.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://botbreeder.github.io/assets/js/scripts.min.js?v=48e9576b9741cf2a93ab25c5689c9f5d"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>